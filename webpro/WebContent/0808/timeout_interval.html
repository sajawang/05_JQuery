<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="../css/public.css">
    <script>
        proc1=()=>{
            //0.5초 후에 result1인 요소의 배경색을 변경
            let res1 = document.getElementById('result1');

            window.setTimeout(function(){
                res1.style.background = "red";

             },500);
        }

        proc2=(target)=>{ //버튼 클릭시 

            //target변수는 지역ㄱ변수, proc3(0에서 사용불가)
            //target을 전역변수로 전환
            let gtarget = target;

            let res2 = document.getElementById('result2');

            //확인버튼을 검색해서 사용할 수 없도록 설정한다
            //종료버튼을 클릭하면 다시 사용할 수 있도록 설정
            v1 = document.querySelector('input[value=확인]')
            
            windoow.setInterval(function(){
         
                target.style.display="none"

                a = window.setInterval(function){

                }

                console.log

                let cr = parseInt(Math.random()*256);
                let cg = parseInt(Math.random()*256);
                let cb = parseInt(Math.random()*256);
				
                //result4인 요소의 배경색을 변경
                document.getElementNNyId('result4')
                res2.style.background = `rgb(${cr}, ${cg}, ${cb})`;

            },500)
        }

        proc3 = (target) =>{
            window.clearInterval(a);

            target.style.display = "block"

            //gtarget은 proc2(0에서 설정한 전역변수)
            gtarget.style.display="inline"
        }
        
        proc4=(but)=>{
        	
        	//id가 result4인 요소를 검색
        	let res4 = document.getElementById('resultt4');
        	//확인버튼을 사용 불가능하도록 설정
        	but.style.display = "none";
        	gbut = but;
        	
        	//change 이름을 이용하여 반복적으로 호출 - 
        	timerId = setTimeout(function change(){
        	
       		//result4인 요소의 배경색을 변경
        	//res4.style.background=`rgb(${cr},${cg},${cb})`	
       		
       		//16진수로 변경
       		cr16 = cr.toString(16);
       		cg16 = cg.toString(16);
       		cb16 = cb.toString(16);
       		
       		res4.style.background = "#"+cr16+cg16+cb16;
       		
        	
       		timerId = setTimeout(change,500)
       		
        	},500)
        }
        
        proc5=()=>{
        	//확인 버튼을 사용가능하도록 설정
        	gbut.style.display = "inline";
        	
        	clearTimeout(timerId);
        }
        
        
    </script>

    <style>
        #result1{
            background : yellow;
        }
    </style>

</head>
<body>
    <div class="box">
        <h3>1. setTimeout(fn(){},milli)<br>
            milli 시간이 경과하면 fn을 수행하고 종료한다
        </h3>
            <input type="button" value="확인" >
            <br>
            <div id="result1"></div>
            
            <h3>2. 변수 = setInterval(fu(){}, milli)<br>
                milli 시간이 경과할때마다 fn을 반복적으로 수행한다<br>
                종료하기 위해서 clearInterval(변수) 함수가 필요하다
            </h3>
            <input type="button" value="확인" onclick="proc2(this)">
            <input type="button" value="종료" onclick="proc3()">
            <br>
            <div id="result2"></div>

            <h3>3. 변수 = setTimeout(fu(){}, milli)<br>
            	중첩 setTimeout을 이용해서 setInterval처럼 반복적으로 수행한다<br>
            	종료하기 위해 clearTimeouot(변수) 함수가 필요하다
            </h3>
            <input type="button" value="확인" onclick="proc4(this)">
            <input type="button" value="종료" onclick="proc5()">
            <br>
            <div id="result4"></div>
            
        </div> 
</body>
</html>